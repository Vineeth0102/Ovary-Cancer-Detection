{% extends 'base.html' %}

{% block title %}Image Upload and Prediction{% endblock %}

{% block content %}
    <div class="container">
        <h1>Upload an Image for Prediction</h1>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                {{ form.as_p }}
            </div>
            <button type="submit">Upload</button>
        </form>

        {% if predictions %}
            <div class="results">
                <h2>Prediction Results:</h2>
                <ul class="prediction-list">
                    {% for class_name, probability in predictions.items %}
                        <li>{{ class_name }}: {{ probability|floatformat:2 }}</li>
                    {% endfor %}
                </ul>

                <div class="highest-result">
                    <h3>Highest Probability:</h3>
                    <p>Class: <strong>{{ highest_class }}</strong></p>
                    <p>Probability: <strong>{{ highest_probability|floatformat:2 }}</strong></p>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}
